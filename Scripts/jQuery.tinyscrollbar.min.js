(function(n){function t(t,i){function ft(){return p.update(),ot(),p}function et(){var n=d.toLowerCase();s.obj.css(rt,r.ratio>=1?"0px":e.obj[ut]()),e.obj.css(c,e.padding),o.obj.css(c,f/e.ratio),r.obj.css(c,-f),w.start=o.obj.offset()[c],e.obj.css(n,s[i.axis]),h.obj.css(n,h[i.axis]),o.obj.css(n,o[i.axis]),u.url&&(u.at=ht())}function ot(){g?s.obj[0].ontouchstart=function(n){1===n.touches.length&&(tt(n.touches[0]),n.stopPropagation())}:(o.obj.bind("mousedown",tt),h.obj.bind("mouseup",b)),i.scroll&&window.addEventListener?(k[0].addEventListener("DOMMouseScroll",nt,!1),k[0].addEventListener("mousewheel",nt,!1)):i.scroll&&(k[0].onmousewheel=nt),i.updateWithWindow&&n(window).resize(function(){p.update("relative")})}function tt(t){n("body").addClass("noSelect");var i=parseInt(o.obj.css(c),10);w.start=a?t.pageX:t.pageY,l.start=i=="auto"?0:i,g?(document.ontouchmove=function(n){n.preventDefault(),b(n.touches[0])},document.ontouchend=v):(n(document).bind("mousemove",b),n(document).bind("mouseup",v),o.obj.bind("mouseup",v))}function nt(t){if(r.ratio<1){var u=t||window.event,h=u.wheelDelta?u.wheelDelta/120:-u.detail/3;f-=h*i.wheel,f=Math.min(r[i.axis]-s[i.axis],Math.max(0,f)),o.obj.css(c,f/e.ratio),r.obj.css(c,-f),it({now:f}),(i.lockscroll||f!==r[i.axis]-s[i.axis]&&f!==0)&&(u=n.event.fix(u),u.preventDefault())}}function b(n){r.ratio<1&&(l.now=i.invertscroll&&g?Math.min(h[i.axis]-o[i.axis],Math.max(0,l.start+(w.start-(a?n.pageX:n.pageY)))):Math.min(h[i.axis]-o[i.axis],Math.max(0,l.start+((a?n.pageX:n.pageY)-w.start))),f=l.now*e.ratio,r.obj.css(c,-f),o.obj.css(c,l.now),e.obj.addClass("scrolling"))}function v(){n("body").removeClass("noSelect"),n(document).unbind("mousemove",b),n(document).unbind("mouseup",v),o.obj.unbind("mouseup",v),e.obj.removeClass("scrolling"),document.ontouchmove=document.ontouchend=null,it(l)}function it(r){var f=n.extend({axis:i.axis},r);t.trigger("scroll",n.Event("scroll"),f),f.axis==="y"&&f.now>=u.at&&u.at>0&&u.num<u.max&&(t.trigger("pagitation",n.Event("scroll"),f),st(u.num++),u.at=0)}function st(i){if(u.url){typeof u.data=="string"&&(u.data=JSON.parse('{"'+decodeURI(u.data.replace(/&/g,'","').replace(/=/g,'":"'))+'"}'));var f=n.extend({},u.data);f[u.key]=i,n.get(u.url,f,function(i,f){f==="success"&&(i==""&&(u.max=u.num),t.trigger("pagingappend",n.Event("paging",i))&&n(u.appendTo||r.obj).append(i),p.update("relative"))})}}function ht(){var n=/^([0-9]+)%$/,t=r[i.axis]-s[i.axis];return n.test(i.pagingAt)?t*(parseFloat(n.exec(i.pagingAt)[1])/100):t-parseFloat(i.pagingAt)}var y;t.children(".viewport").length==0&&(y=n('<div class="content">').css({position:"relative"}),t.append(y),t.children().not(y).appendTo(t.children(".content")),y.wrap(n('<div class="viewport">')),t.append(n('<div class="scrollbar"><div class="track"><div class="thumb"><\/div><\/div><\/div>')),i.invertscroll=typeof window.orientation!="undefined"),t.addClass("tinyscrollbar");var p=this,k=t,s={obj:n(".viewport",t)},r={obj:n(".content",t),padding:i.contentPadding},e={obj:n(".scrollbar",t),padding:i.scrollPadding},h={obj:n(".track",e.obj),padding:i.trackPadding},o={obj:n(".thumb",e.obj)},a=i.axis==="x",c=a?"left":"top",rt=a?"bottom":"right",d=a?"Width":"Height",ut=a?"height":"width",f=0,l={start:0,now:0},w={},g="ontouchstart"in document.documentElement,u={at:0,num:i.pagingNum||1,url:i.pagingUrl,data:i.pagingData,key:i.pagingKey,max:i.pagingMax+1,appendTo:i.pagingAppendTo};return this.update=function(n){s[i.axis]=s.obj.prop("offset"+d),r[i.axis]=r.obj.prop("scroll"+d)+r.padding,r.ratio=s[i.axis]/r[i.axis],e.obj.toggleClass("disable",r.ratio>=1),h[i.axis]=i.size==="auto"?s[i.axis]-e.padding*2:i.size,o[i.axis]=Math.min(h[i.axis]-h.padding*2,Math.max(0,i.sizethumb==="auto"?(h[i.axis]-h.padding*2)*r.ratio:i.sizethumb)),e.ratio=i.sizethumb==="auto"?r[i.axis]/h[i.axis]:(r[i.axis]-s[i.axis])/(h[i.axis]-o[i.axis]),f=n==="relative"&&r.ratio<=1?Math.min(r[i.axis]-s[i.axis],Math.max(0,f)):0,f=n==="bottom"&&r.ratio<=1?r[i.axis]-s[i.axis]:isNaN(parseInt(n,10))?f:parseInt(n,10),et()},this.resetPaging=function(t,i){typeof t=="object"&&(i=t,t=!1),u=n.extend({},u,i),t&&this.update(0)},ft()}n.tiny=n.tiny||{},n.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1,scrollPadding:5,trackPadding:3,contentPadding:15,pagingAt:"75%",pagingUrl:null,pagingData:{},pagingKey:"page",pagingMax:10,pagingAppendTo:null,updateWithWindow:!0}},n.fn.tinyscrollbar=function(i){var r=n.extend({},n.tiny.scrollbar.options,i);return this.each(function(){n(this).data("tsb",new t(n(this),r))}),this},n.fn.tinyscrollbar_update=function(t){return n(this).data("tsb").update(t)},n.fn.tinyscrollbar_paging=function(){var t=n(this).data("tsb");return t.resetPaging.apply(t,arguments)}})(jQuery);
//@ sourceMappingURL=jQuery.tinyscrollbar.min.js.map